<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <link rel="icon" type="image/x-icon" href="images/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>참여신청서 | 부산강서시니어클럽</title>
    <meta name="description" content="부산강서시니어클럽 노인일자리 사업 참여신청서">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap"
        rel="stylesheet">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/subpage.css">
    <!-- 모바일 전용 스타일 -->
    <link rel="stylesheet" href="css/mobile.css" media="(max-width: 768px)">
</head>

<body>
    <!-- Header -->
    <header class="header">
        <div class="header-inner">
            <h1 class="logo">
                <a href="index.html">
                    <img src="images/logo/og2.png" alt="부산강서시니어클럽" class="logo-img">
                </a>
            </h1>
            <nav class="gnb">
                <ul>
                    <li class="has-submenu">
                        <a href="about.html">기관소개</a>
                        <ul class="submenu">
                            <li><a href="about.html#greeting">인사말</a></li>
                            <li><a href="about.html#mission">미션과 비전</a></li>
                            <li><a href="about.html#organization">기관 조직도</a></li>
                            <li><a href="about.html#location">오시는길</a></li>
                        </ul>
                    </li>
                    <li class="has-submenu">
                        <a href="senior.html">노인일자리 사업</a>
                        <ul class="submenu">
                            <li><a href="senior.html#public">공익형</a></li>
                            <li><a href="senior.html#capacity">역량형</a></li>
                            <li><a href="senior.html#community">공동체형</a></li>
                            <li><a href="senior.html#employment">취업알선형</a></li>
                        </ul>
                    </li>
                    <li class="has-submenu">
                        <a href="products.html">생산판매</a>
                        <ul class="submenu">
                            <li><a href="products.html#sesame">정일품참기름</a></li>
                            <li><a href="products.html#drinks">액상차&즙</a></li>
                            <li><a href="products.html#coffee">더치커피</a></li>
                            <li><a href="products.html#cafe">CAFE "만"</a></li>
                        </ul>
                    </li>
                    <li class="has-submenu">
                        <a href="notice.html">게시판</a>
                        <ul class="submenu">
                            <li><a href="notice.html">알림사항</a></li>
                            <li><a href="gallery.html">갤러리</a></li>
                            <li><a href="jobs.html">구인/구직</a></li>
                        </ul>
                    </li>
                    <li><a href="apply.html" class="btn-apply active">참여신청서</a></li>
                </ul>
            </nav>
            <button class="mobile-menu-btn" aria-label="메뉴 열기">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </header>

    <!-- Page Hero -->
    <section class="page-hero hero-apply">
        <div class="page-hero-overlay"></div>
        <div class="container">
            <h2 class="page-title">참여신청서</h2>
            <p class="page-subtitle">노인일자리 사업 참여를 신청합니다</p>
        </div>
    </section>

    <!-- Page Content -->
    <section class="page-content">
        <div class="container">
            <div class="content-section">
                <h3 class="section-title">참여신청서 작성</h3>

                <form class="apply-form" id="applyForm">
                    <!-- 참여희망 사업명 -->
                    <div class="form-group">
                        <label for="programType">참여희망 사업명</label>
                        <select id="programType" name="programType" required>
                            <option value="">선택해주세요</option>
                            <option value="public">공익형</option>
                            <option value="capacity">역량형</option>
                            <option value="community">공동체형</option>
                            <option value="employment">취업알선형</option>
                        </select>
                    </div>

                    <!-- 이름 -->
                    <div class="form-group">
                        <label for="name">이름</label>
                        <input type="text" id="name" name="name" required>
                    </div>

                    <!-- 연락처 -->
                    <div class="form-group">
                        <label for="phone">연락처</label>
                        <input type="tel" id="phone" name="phone" placeholder="예) 010-1234-5678" required>
                    </div>

                    <!-- 생년월일 -->
                    <div class="form-group">
                        <label>생년월일</label>
                        <div class="birth-date-group" style="display: flex; gap: 10px; flex-wrap: wrap;">
                            <select id="birthYear" name="birthYear" required style="flex: 1; min-width: 100px;">
                                <option value="">년도</option>
                                <script>
                                    const currentYear = new Date().getFullYear();
                                    for (let y = currentYear - 50; y >= 1930; y--) {
                                        document.write('<option value="' + y + '">' + y + '년</option>');
                                    }
                                </script>
                            </select>
                            <select id="birthMonth" name="birthMonth" required style="flex: 1; min-width: 80px;">
                                <option value="">월</option>
                                <option value="1">1월</option>
                                <option value="2">2월</option>
                                <option value="3">3월</option>
                                <option value="4">4월</option>
                                <option value="5">5월</option>
                                <option value="6">6월</option>
                                <option value="7">7월</option>
                                <option value="8">8월</option>
                                <option value="9">9월</option>
                                <option value="10">10월</option>
                                <option value="11">11월</option>
                                <option value="12">12월</option>
                            </select>
                            <select id="birthDay" name="birthDay" required style="flex: 1; min-width: 80px;">
                                <option value="">일</option>
                                <script>
                                    for (let d = 1; d <= 31; d++) {
                                        document.write('<option value="' + d + '">' + d + '일</option>');
                                    }
                                </script>
                            </select>
                        </div>
                    </div>

                    <!-- 기초생활 수급자 여부 -->
                    <div class="form-group">
                        <label>기초생활 수급자 여부 <span style="color: red;">*</span></label>
                        <div class="radio-group" style="display: flex; gap: 20px; margin-top: 8px;">
                            <label class="radio-label"
                                style="display: flex; align-items: center; gap: 8px; font-weight: 400;">
                                <input type="radio" name="basicLiving" value="해당" required>
                                <span style="font-size: 14px;">해당</span>
                            </label>
                            <label class="radio-label"
                                style="display: flex; align-items: center; gap: 8px; font-weight: 400;">
                                <input type="radio" name="basicLiving" value="비해당">
                                <span style="font-size: 14px;">비해당</span>
                            </label>
                        </div>
                    </div>

                    <!-- 기초연금 수급자 여부 -->
                    <div class="form-group">
                        <label>기초연금 수급자 여부 <span style="color: red;">*</span></label>
                        <div class="radio-group" style="display: flex; gap: 20px; margin-top: 8px;">
                            <label class="radio-label"
                                style="display: flex; align-items: center; gap: 8px; font-weight: 400;">
                                <input type="radio" name="basicPension" value="수급" required>
                                <span style="font-size: 14px;">수급</span>
                            </label>
                            <label class="radio-label"
                                style="display: flex; align-items: center; gap: 8px; font-weight: 400;">
                                <input type="radio" name="basicPension" value="미수급">
                                <span style="font-size: 14px;">미수급</span>
                            </label>
                        </div>
                    </div>

                    <!-- 차상위계층 해당 유무 -->
                    <div class="form-group">
                        <label>차상위계층 해당 유무 <span style="color: red;">*</span></label>
                        <div class="radio-group" style="display: flex; gap: 20px; margin-top: 8px;">
                            <label class="radio-label"
                                style="display: flex; align-items: center; gap: 8px; font-weight: 400;">
                                <input type="radio" name="nearPoverty" value="해당" required>
                                <span style="font-size: 14px;">해당</span>
                            </label>
                            <label class="radio-label"
                                style="display: flex; align-items: center; gap: 8px; font-weight: 400;">
                                <input type="radio" name="nearPoverty" value="비해당">
                                <span style="font-size: 14px;">비해당</span>
                            </label>
                        </div>
                    </div>

                    <!-- 남기실 말씀 -->
                    <div class="form-group">
                        <label for="message">남기실 말씀</label>
                        <textarea id="message" name="message" rows="5" placeholder="기타 문의사항이 있으시면 작성해주세요."></textarea>
                    </div>

                    <!-- 개인정보 수집 및 이용 동의 -->
                    <div class="form-group privacy-section">
                        <label>개인정보 수집 및 이용 동의 <span style="color: red;">*</span></label>
                        <div class="privacy-content">
                            <p>'부산강서시니어클럽'(이하 '기관')은 참여 신청자의 개인정보를 중요시하며, "정보통신망 이용촉진 및 정보보호에 관한 법률"을 준수하고 있습니다.</p>

                            <h5>수집하는 개인정보 항목</h5>
                            <p>기관은 노인일자리 사업 참여 신청을 위해 아래와 같은 개인정보를 수집합니다.</p>
                            <p><strong>수집항목:</strong> 이름, 연락처(휴대전화번호), 생년월일, 참여희망 사업명, 수급자 여부, 기타 문의사항</p>
                            <p><strong>수집방법:</strong> 홈페이지 참여신청서</p>

                            <h5>개인정보의 수집 및 이용목적</h5>
                            <p>수집한 개인정보는 다음의 목적으로만 사용됩니다.</p>
                            <p>- 노인일자리 사업 참여 신청 접수 및 처리</p>
                            <p>- 참여자 본인 확인 및 연락</p>
                            <p>- 사업 안내 및 필요한 고지사항 전달</p>
                            <p>- 민원 처리 및 상담</p>

                            <h5>개인정보의 보유 및 이용기간</h5>
                            <p>참여신청서는 접수 후 <strong>1년간 보관</strong>하며, 보관 기간이 경과하면 지체 없이 파기합니다.</p>

                            <h5>개인정보의 파기 방법</h5>
                            <p>전자 파일 형태로 저장된 개인정보는 복구 불가능하도록 안전하게 삭제하며, 종이에 출력된 개인정보는 분쇄기로 분쇄하여 파기합니다.</p>

                            <h5>개인정보 제공 및 위탁</h5>
                            <p>기관은 신청자의 개인정보를 <strong>외부에 제공하거나 위탁하지 않습니다.</strong></p>
                            <p>다만, 법령의 규정에 의거하거나 수사기관의 적법한 요구가 있는 경우는 예외로 합니다.</p>

                            <h5>개인정보 권리 행사</h5>
                            <p>신청자는 언제든지 본인의 개인정보 조회, 수정, 삭제를 요청할 수 있습니다.</p>
                            <p>요청 시 아래 연락처로 문의해주시면 신속하게 조치하겠습니다.</p>

                            <h5>개인정보 관련 문의</h5>
                            <p><strong>부산강서시니어클럽</strong></p>
                            <p>- 전화번호: 051) 973-1167</p>
                            <p>- 이메일: kss20150101@hanmail.net</p>
                            <p>- 주소: 부산광역시 강서구 공항로811번가길 30(대저 2동)</p>
                        </div>
                        <div class="privacy-agree">
                            <label class="radio-label" style="display: flex; align-items: center; gap: 5px;">
                                <input type="radio" name="privacyAgree" value="agree" id="privacyAgreeYes" required>
                                <span style="font-size: 14px;">동의함</span>
                            </label>
                            <label class="radio-label" style="display: flex; align-items: center; gap: 5px;">
                                <input type="radio" name="privacyAgree" value="disagree" id="privacyAgreeNo">
                                <span style="font-size: 14px;">동의안함</span>
                            </label>
                        </div>
                    </div>

                    <!-- Submit Button -->
                    <div class="form-actions">
                        <button type="submit" class="btn-submit">참여신청서 등록</button>
                    </div>
                </form>

                <script>
                    // 폼 유효성 검사
                    document.getElementById('applyForm').addEventListener('submit', function (e) {
                        e.preventDefault();

                        // 에러 메시지 배열
                        let errors = [];
                        let firstErrorField = null;

                        // 1. 참여희망 사업명 확인
                        const programType = document.getElementById('programType').value;
                        if (!programType) {
                            errors.push('• 참여희망 사업명');
                            if (!firstErrorField) firstErrorField = document.getElementById('programType');
                        }

                        // 2. 이름 확인
                        const nameInput = document.getElementById('name');
                        const nameRaw = nameInput.value;
                        const name = nameRaw.trim();
                        const koreanRegex = /^[가-힣]+$/;

                        if (!name) {
                            errors.push('• 이름');
                            if (!firstErrorField) firstErrorField = nameInput;
                        } else {
                            // 공백 체크 (trim 전 원본 값에서 중간 공백 체크)
                            if (/\s/.test(name)) {
                                errors.push('• 이름 (공백 포함 불가)');
                                if (!firstErrorField) firstErrorField = nameInput;
                            } else if (!koreanRegex.test(name)) {
                                errors.push('• 이름 (한글만 입력 가능)');
                                if (!firstErrorField) firstErrorField = nameInput;
                            } else if (name.length < 2 || name.length > 7) {
                                errors.push('• 이름 (2~7자 입력)');
                                if (!firstErrorField) firstErrorField = nameInput;
                            }
                        }

                        // 3. 연락처 확인
                        const phoneInput = document.getElementById('phone');
                        const phone = phoneInput.value.trim();
                        const phoneClean = phone.replace(/-/g, '');
                        // 010, 011, 016, 017, 018, 019로 시작하는 10~11자리
                        const phoneRegex = /^01[016789][0-9]{7,8}$/;

                        if (!phone) {
                            errors.push('• 연락처');
                            if (!firstErrorField) firstErrorField = phoneInput;
                        } else if (!phoneRegex.test(phoneClean)) {
                            errors.push('• 연락처 (올바른 형식: 010-1234-5678)');
                            if (!firstErrorField) firstErrorField = phoneInput;
                        }

                        // 4. 생년월일 확인
                        const birthYearElem = document.getElementById('birthYear');
                        const birthMonthElem = document.getElementById('birthMonth');
                        const birthDayElem = document.getElementById('birthDay');
                        const birthYear = birthYearElem.value;
                        const birthMonth = birthMonthElem.value;
                        const birthDay = birthDayElem.value;

                        if (!birthYear) {
                            errors.push('• 생년월일 (년도)');
                            if (!firstErrorField) firstErrorField = birthYearElem;
                        }
                        if (!birthMonth) {
                            errors.push('• 생년월일 (월)');
                            if (!firstErrorField) firstErrorField = birthMonthElem;
                        }
                        if (!birthDay) {
                            errors.push('• 생년월일 (일)');
                            if (!firstErrorField) firstErrorField = birthDayElem;
                        }

                        // 생년월일 유효성 체크 (년/월/일 모두 선택된 경우)
                        if (birthYear && birthMonth && birthDay) {
                            const year = parseInt(birthYear);
                            const month = parseInt(birthMonth);
                            const day = parseInt(birthDay);
                            const daysInMonth = new Date(year, month, 0).getDate();

                            if (day > daysInMonth) {
                                errors.push('• 생년월일 (유효하지 않은 날짜)');
                                if (!firstErrorField) firstErrorField = birthDayElem;
                            }
                        }

                        // 5. 기초생활 수급자 여부 확인
                        const basicLivingChecked = document.querySelector('input[name="basicLiving"]:checked');
                        if (!basicLivingChecked) {
                            errors.push('• 기초생활 수급자 여부');
                            if (!firstErrorField) {
                                const basicLivingFirst = document.querySelector('input[name="basicLiving"]');
                                if (basicLivingFirst) firstErrorField = basicLivingFirst.closest('.form-group') || basicLivingFirst;
                            }
                        }

                        // 6. 기초연금 수급자 여부 확인
                        const basicPensionChecked = document.querySelector('input[name="basicPension"]:checked');
                        if (!basicPensionChecked) {
                            errors.push('• 기초연금 수급자 여부');
                            if (!firstErrorField) {
                                const basicPensionFirst = document.querySelector('input[name="basicPension"]');
                                if (basicPensionFirst) firstErrorField = basicPensionFirst.closest('.form-group') || basicPensionFirst;
                            }
                        }

                        // 7. 차상위계층 해당 유무 확인
                        const nearPovertyChecked = document.querySelector('input[name="nearPoverty"]:checked');
                        if (!nearPovertyChecked) {
                            errors.push('• 차상위계층 해당 유무');
                            if (!firstErrorField) {
                                const nearPovertyFirst = document.querySelector('input[name="nearPoverty"]');
                                if (nearPovertyFirst) firstErrorField = nearPovertyFirst.closest('.form-group') || nearPovertyFirst;
                            }
                        }

                        // 8. 개인정보 동의 체크
                        const privacyAgreeYes = document.getElementById('privacyAgreeYes');
                        const privacyAgree = document.querySelector('input[name="privacyAgree"]:checked');
                        if (!privacyAgree) {
                            errors.push('• 개인정보 수집 및 이용 동의');
                            if (!firstErrorField) firstErrorField = privacyAgreeYes;
                        } else if (privacyAgree.value === 'disagree') {
                            errors.push('• 개인정보 수집 및 이용 동의 (동의 필수)');
                            if (!firstErrorField) firstErrorField = privacyAgreeYes;
                        }

                        // 에러가 있으면 메시지 표시
                        if (errors.length > 0) {
                            let errorMessage = '다음 항목을 확인해주세요:\n\n' + errors.join('\n');
                            alert(errorMessage);
                            if (firstErrorField) {
                                // 스크롤 및 포커스
                                firstErrorField.scrollIntoView({ behavior: 'smooth', block: 'center' });
                                setTimeout(function () {
                                    if (typeof firstErrorField.focus === 'function') {
                                        firstErrorField.focus();
                                    }
                                }, 300);
                            }
                            return false;
                        }

                        // 모든 유효성 검사 통과 - 성공 메시지 표시
                        alert('참여신청서가 등록되었습니다.\n담당자가 연락드리겠습니다.');
                        document.getElementById('applyForm').reset();
                        return false;
                    });

                    // 동의안함 선택시 경고
                    document.getElementById('privacyAgreeNo').addEventListener('change', function () {
                        if (this.checked) {
                            alert('개인정보 수집 및 이용에 동의하셔야 참여신청이 가능합니다.');
                            document.getElementById('privacyAgreeYes').checked = true;
                        }
                    });
                </script>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-info">
                    <p class="footer-line"><strong>부산강서시니어클럽</strong> | 대표 배현옥 | TEL 051) 973-1167 | FAX 051) 973-1168
                    </p>
                    <p class="footer-line">주소 부산광역시 강서구 공항로811번가길 30(대저 2동)</p>
                    <p class="footer-line">사업자등록번호 615-82-88196 | 이메일 kss20150101@hanmail.net</p>
                </div>
                <div class="footer-copyright">
                    <p>Copyright &copy; <span class="highlight">BUSAN Gangseo Senior Club</span> . All Rights Reserved.
                    </p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="js/main.js?v=2.2"></script>
</body>

</html>